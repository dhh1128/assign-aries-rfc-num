<html>
<head>
    <title>Assign Aries RFC Number</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
body {
    padding-left: 20px;
    padding-right: 20px;
}
    </style>
    <script>
function parseResponse() {
    var txt = this.responseText;
    var idx = txt.search("/pulls/");
    idx += 7;
    endOfNum = txt.indexOf('"', idx);
    nextNum = parseInt(txt.substring(idx, endOfNum)) + 1;
    alert(nextNum);
    document.getElementById("num").innerHtml = nextNum.toString();
}

function getNum() {
    var request = new XMLHttpRequest();
    request.onload = parseResponse;
    request.open('get', 'https://api.github.com/repos/hyperledger/aries-rfcs/pulls?state=all');
    request.send()
}
    </script>
</head>
<body>
<h1>Assign Aries RFC Number</h1>
<p>This webpage will help you figure out what RFC number you should pick
for your <a target="_blank" href="https://github.com/hyperledger/aries-rfcs/blob/master/README.md">
Hyperledger Aries RFC</a>. It does this by running an AJAX command
against github's API to figure out the highest PR number, open or closed,
that's been raised against that repo already, and incrementing by 1.</p>
<p>You get your RFC number right before you're ready to submit a PR; if
you do it long before, there's a chance that someone else will use your
number before you do.</p>
<h1>Next RFC Number</h1>
<div id="num">

</div>
<input type="button" onclick="getNum()" value="Get an RFC number now"/>
</body>
</html>
